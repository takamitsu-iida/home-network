---

#
# testbed file for home network
#

testbed:
  name: home network

  credentials:
    default:
      username: 'cisco'
      password: 'cisco'
    enable:
      password: 'cisco'

devices:

  c3560c-12pc-s:
    # alias: uut

    # supported platform
    # https://pubhub.devnetcloud.com/media/unicon/docs/user_guide/supported_platforms.html
    os: ios
    type: switch

    connections:
      defaults:
        class: 'unicon.Unicon'
        via: cli
      cli:
        # protocol: ssh -oKexAlgorithms=+diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
        protocol: ssh
        ip: 192.168.122.254
        port: 22
        settings:
          GRACEFUL_DISCONNECT_WAIT_SEC: 1     # default 10
          POST_DISCONNECT_WAIT_SEC: 1         # default 10
          EXEC_TIMEOUT: 20                    # default 60
          CONFIG_TIMEOUT: 20                  # default 60
        arguments:
          # dev.connect()に渡す引数
          # ここでの指定の方が優先度が高く強い
          connection_timeout: 10              # default 60
          # osがiosxeの場合、接続と同時に以下のコマンドが投入される
          #  - term length 0
          #  - term width 0
          #  - show version
          # init_exec_commandsに空のリストを渡せば何も実行されなくなる
          # init_exec_commands: []
          init_exec_commands:
            - term length 0
            - term width 0
          # osがiosxeの場合、接続と同時に以下の設定変更を行う
          # - no logging console
          # - line console 0
          # - exec-timeout 0
          # - end
          # init_config_commandsに空のリストを渡せば設定変更を抑止できる
          init_config_commands: []

  c2960cx-8pc:
    alias: uut
    os: ios
    type: switch
    connections:
      defaults:
        class: 'unicon.Unicon'
      cli:
        # protocol: ssh -oKexAlgorithms=+diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
        protocol: ssh
        ip: 192.168.122.252
        port: 22
        settings:
          GRACEFUL_DISCONNECT_WAIT_SEC: 1     # default 10
          POST_DISCONNECT_WAIT_SEC: 1         # default 10
          EXEC_TIMEOUT: 20                    # default 60
          CONFIG_TIMEOUT: 20                  # default 60
        arguments:
          init_exec_commands:
            - term length 0
            - term width 0
          init_config_commands: []
